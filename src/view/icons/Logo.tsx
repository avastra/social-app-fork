import React from 'react'
import {StyleSheet, TextProps} from 'react-native'
import Svg, {ClipPath, Defs, Path, Rect, SvgProps} from 'react-native-svg'
import {Image} from 'expo-image'

import {useKawaiiMode} from '#/state/preferences/kawaii'

const ratio = 1280 / 250

type Props = {
  fill?: string
  style?: TextProps['style']
} & Omit<SvgProps, 'style'>

export const Logo = React.forwardRef(function LogoImpl(props: Props, ref) {
  const {...rest} = props
  const styles = StyleSheet.flatten(props.style)
  // @ts-ignore it's fiiiiine
  const size = parseInt(rest.width || 32)

  const isKawaii = useKawaiiMode()

  if (isKawaii) {
    return (
      <Image
        source={
          size > 100
            ? require('../../../assets/kawaii.png')
            : require('../../../assets/kawaii_smol.png')
        }
        accessibilityLabel="Inspired"
        accessibilityHint=""
        accessibilityIgnoresInvertColors
        style={[{height: size, aspectRatio: 1.4}]}
      />
    )
  }

  return (
    <Svg
      fill="none"
      // @ts-ignore it's fiiiiine
      ref={ref}
      viewBox="0 0 1280 250"
      {...rest}
      style={[{width: size, height: size / ratio}, styles]}>
      {/* Paths representing the SVG structure */}
      <Path d="M263.5 192.88V86.7305H287.76V192.88H263.5Z" fill="#FDE295" />
      <Path
        d="M451.221 86.7197V192.87H429.991L353.861 116.14V192.87H330.351V86.7197H356.131L427.701 159.51V86.7197H451.221Z"
        fill="#FDE295"
      />
      <Path
        d="M606.48 160.73C606.48 181.66 586.62 196.21 549.01 196.21C522.16 196.21 500.33 188.63 484.11 174.83L498.06 158.3C511.11 170.28 527.93 175.89 549.62 175.89C571.31 175.89 582.08 171.8 582.08 163C582.08 154.2 571.16 151.78 546.75 149.65C516.42 147.08 488.21 140.4 488.21 117.66C488.21 94.9197 511.87 83.3896 544.63 83.3896C567.83 83.3896 587.85 89.1496 601.35 99.6096L588 116.45C576.32 107.5 561.92 103.87 544.63 103.72C530.23 103.57 512.64 106.14 512.64 115.85C512.64 124.95 527.81 125.86 548.88 127.53C582.7 130.26 606.5 137.39 606.5 160.74L606.48 160.73Z"
        fill="#FDE295"
      />
      <Path
        d="M758.42 122.66C758.42 146.17 740.22 158.6 712.93 158.6H664.55V192.87H640.29V86.7305H712.93C740.23 86.7305 758.42 99.4705 758.42 122.67V122.66ZM733.69 122.81C733.69 110.68 724.59 107.04 710.94 107.04H664.53V138.58H710.94C724.59 138.58 733.69 134.94 733.69 122.81Z"
        fill="#FDE295"
      />
      <Path d="M791.3 192.88V86.7305H815.56V192.88H791.3Z" fill="#FDE295" />
      <Path
        d="M951.111 192.88L920.621 156.79H882.251V192.88H858.141V86.7305H931.381C957.311 86.7305 976.871 98.7105 976.871 121.76C976.871 139.8 964.891 151.03 947.301 155.12L980.061 192.88H951.091H951.111ZM930.041 136.77C942.771 136.77 952.181 133.73 952.181 121.9C952.181 110.07 942.781 107.03 930.041 107.03H882.121V136.75H930.041V136.77Z"
        fill="#FDE295"
      />
      <Path
        d="M1122.91 172.56V192.88H1013.57V86.7305H1121.39V107.05H1037.68V128.89H1107.59V149.21H1037.68V172.56H1122.91Z"
        fill="#FDE295"
      />
      <Path
        d="M1280 139.8C1280 172.86 1254.37 192.88 1214.34 192.88H1157.92V86.7305H1214.34C1254.37 86.7305 1280 106.75 1280 139.81V139.8ZM1255.28 139.8C1255.28 117.96 1237.99 107.34 1212.51 107.34H1182.18V172.24H1212.51C1237.99 172.24 1255.28 161.63 1255.28 139.78V139.8Z"
        fill="#FDE295"
      />
      <Path
        d="M218.13 138.23L217.74 137.84C197.71 117.81 169.3 109.77 141.69 116.34C138.02 117.22 134.42 118.38 130.92 119.75C132.85 115.66 134.44 111.44 135.65 107.07C140.68 89.07 139.32 69.73 131.85 52.68C130.57 49.8 127.21 48.48 124.34 49.73C121.46 51.01 120.15 54.37 121.39 57.25C127.81 71.91 128.97 88.51 124.67 103.99C121.9 113.89 116.94 123.1 110.19 130.86C104.37 123.19 100.17 114.32 97.9302 104.96C92.2802 81.23 99.1902 56.81 116.4 39.61L116.62 39.39C118.9 37.24 119.01 33.61 116.86 31.32C114.73 29.01 111.13 28.91 108.81 31.08C108.66 31.23 108.5 31.39 108.35 31.54C88.3202 51.57 80.2802 80 86.8602 107.61C87.7402 111.32 88.9202 114.97 90.3302 118.51C86.2202 116.55 81.9302 114.95 77.5402 113.71C59.5402 108.67 40.2102 110.04 23.1702 117.51C20.2702 118.77 18.9502 122.13 20.2202 125C21.5002 127.88 24.8602 129.2 27.7302 127.95C42.3902 121.53 58.9802 120.37 74.4602 124.67C84.3502 127.44 93.5602 132.4 101.32 139.16C93.6502 144.98 84.7902 149.19 75.4302 151.43C51.7102 157.08 27.2902 150.15 10.0802 132.94L9.88021 132.72C7.73021 130.44 4.10021 130.33 1.81021 132.48C-0.469791 134.63 -0.579791 138.26 1.57021 140.55C1.72021 140.7 1.88021 140.88 2.03021 141.01C17.4602 156.45 37.8802 164.76 59.0702 164.76C65.3802 164.76 71.7502 164.02 78.0802 162.52C81.7502 161.64 85.3502 160.48 88.8502 159.11C86.9202 163.2 85.3302 167.44 84.1202 171.79C79.0902 189.79 80.4502 209.13 87.9202 226.18C89.2002 229.06 92.5602 230.38 95.4302 229.13C98.3102 227.85 99.6202 224.49 98.3802 221.61C91.9602 206.95 90.8002 190.35 95.1002 174.87C97.8702 164.97 102.83 155.76 109.58 148C115.4 155.67 119.6 164.54 121.84 173.9C127.49 197.63 120.56 222.05 103.37 239.25L103.15 239.47C100.87 241.62 100.76 245.25 102.91 247.54C104.03 248.73 105.55 249.34 107.06 249.34C108.47 249.34 109.88 248.84 110.97 247.78C111.12 247.63 111.28 247.47 111.43 247.32C131.46 227.29 139.5 198.86 132.92 171.25C132.04 167.54 130.86 163.89 129.45 160.35C133.56 162.31 137.85 163.91 142.24 165.15C149.38 167.15 156.74 168.14 164.09 168.14C175.23 168.14 186.34 165.86 196.62 161.35C199.5 160.07 200.81 156.71 199.57 153.83C198.29 150.95 194.93 149.63 192.06 150.88C177.4 157.3 160.81 158.46 145.33 154.16C135.41 151.39 126.23 146.43 118.47 139.67C126.14 133.85 135 129.64 144.36 127.4C168.08 121.75 192.5 128.68 209.69 145.87L209.95 146.13C212.12 148.41 215.73 148.46 218 146.28C220.26 144.15 220.3 140.5 218.13 138.23Z"
        fill="#FDE295"
      />
      <Defs>
        <ClipPath id="clip0">
          <Rect width="1280" height="250" fill="white" />
        </ClipPath>
      </Defs>
    </Svg>
  )
})
